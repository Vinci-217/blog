---
title: 面经学习
date: 2024-12-23
tags: ['面经学习']
desc: 面经学习
---
## 面经学习①

- 原地址：[百度日常](https://www.nowcoder.com/feed/main/detail/3f8b9bab41664d5fa8a27ba758acb391?sourceSSR=users)


1. **RabbitMQ和KafKa的技术选型**

RabbitMQ的特点：

- 消息路由：支持丰富的路由方式，多种消息传递方式
- 消息持久化：消息可以持久化到磁盘，系统重启消息不会丢失
- 消息可靠性：支持消息确认机制和消息重发机制

KafKa的特点：

- 高吞吐：可以实时处理大量的数据，吞吐量大
- 持久化日志：消息的日志可以持久化到磁盘，可以保留历史数据，支持回溯读取
- 消息顺序：保证分区内的消息顺序，适合消息需要顺序处理的场景


2. MQ怎么保证消息消费的可靠性的

- 消息确认：生产者发送到队列会有ack确认给生产者；消费者从队列消费会有ack给队列
- 消息重试：如果消息消费失败，可以配置重试机制，过一段时间后消息重新发送；长时间失败的消息可以投递到死信队列
- 消息持久化：发送到队列时可以同时持久化到磁盘；将队列本身持久化


3. mq宕机了怎么办

- 集群部署保证高可用性
- 消息持久化防止消息丢失


4. mq队列满了从哪些方面考虑

消费者方面：加快消费者消费速度，多线程消费，多个消费者等等

生产者方面：抑制生产速度，限流等

队列方面：增加队列容量，增加队列数量，丢弃消息等


5. ConcurrentHashmap怎么实现的

- JDK1.7之前：分段锁锁每个小部分，各个部分之间可以并发访问，Segment分段锁是继承自ReentrantLock带
- JDK1.8之后：

  - CAS操作来修改和插入元素
  - Synchronized作用于扩容和转移为红黑树
- 补充：HashTable的原理：对HashMap的每个操作都加了Sychronized锁，太重量，不推荐使用


6. MySQL有那几种主键

自增主键，UUID主键，复合主键


7. 雪花算法的原理

- 1位符号位
- 41位时间戳
- 10位机器号（标识不同的机器，分库分表时配置好自己的序号，查询对应库表的数据）
- 12位序列号


8. MySQL查询压力大怎么做

- 查询优化，索引
- 分库分表，读写分离
- 缓存优化


9. git命令，需求开发一半再去开新需求

git stash push/pop
